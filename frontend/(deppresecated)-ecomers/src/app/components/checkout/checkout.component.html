<div class="container mt-5">
  <h2>Checkout</h2>
  <div *ngIf="items.length === 0">
    <p>Carrito vac√≠o.</p>
    <a routerLink="/" class="btn btn-link">Comprar</a>
  </div>
  <div *ngIf="items.length">
    <table class="table">
      <thead>
        <tr>
          <th>Producto</th><th>Precio</th><th>Cantidad</th><th>Subtotal</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let it of items">
          <td>{{ it.product.name }}</td>
          <td>{{ it.product.price | currency:'EUR' }}</td>
          <td>{{ it.quantity }}</td>
          <td>{{ (it.product.price * it.quantity) | currency:'EUR' }}</td>
        </tr>
      </tbody>
    </table>
    <h4>Total a pagar: {{ total | currency:'EUR' }}</h4>
    <button class="btn btn-success" (click)="placeOrder()" [disabled]="loading">
      {{ loading ? 'Procesando...' : 'Confirmar Pedido' }}
    </button>
    <div class="text-success mt-2" *ngIf="success">{{ success }}</div>
    <div class="text-danger mt-2" *ngIf="error">{{ error }}</div>
  </div>
</div>
